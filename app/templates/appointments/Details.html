<ion-view cache-view="false" view-title="Appointment" >
  <ion-content>

    <ion-refresher pulling-icon="ion-arrow-down-b" on-refresh="DetailsLoader()">
    </ion-refresher>

    <div class="list card">

      <h3 class="text-center calm">Patient: {{row.patient}}</h3>

      <div class="item item-body">

        <div class="item" style="padding:0;">
          <div class="row">
            <div class="col text-center hts-grey">Doctor in Charge:</div>
          </div>
          <div class="row">
            <div class="col text-center">{{row.doctor}} </div>
          </div>
        </div>

        <div class="item" style="padding:0;">
          <div class="row">
            <div class="col text-center hts-grey">Date/Time:</div>
          </div>
          <div class="row">
            <div class="col text-center">{{row.appointDate}} </div>
          </div>
        </div>

        <div class="item" style="padding:0;">
          <div class="row">
            <div class="col text-center hts-grey">Time Status:</div>
          </div>
          <div class="row">
            <div class="col text-center">
              <a ng-if="row.rtime>0" class="button button-balanced button-small">{{(row.rtime)|htstogo}} to due</a>
              <a ng-if="row.rtime<0" class="button button-assertive button-small">Expired</a>
            </div>
          </div>
        </div>

        <div ng-if="row.rtime>0" class="item" style="padding:0;">
          <div class="row">
            <div class="col text-center hts-grey">Status:</div>
          </div>
          <div class="row">
            <div class="col text-center" ng-if="myposition==1">
              <a ng-if="row.app_status!=1" class="button button-assertive button-small" ng-click="AppointmentApproval(row.app_id+'/1')">Pending Approval</a>
              <a ng-if="row.app_status==1" class="button button-balanced button-small" ng-click="AppointmentApproval('row.app_id+'/0')">Approved</a>
            </div>
            <div class="col text-center" ng-if="myposition!=1">
              <a ng-if="row.app_status!=1" class="button button-assertive button-small">Pending Approval</a>
              <a ng-if="row.app_status==1" class="button button-balanced button-small" >Approved</a>
            </div>
          </div>
        </div>

        <div class="item" style="padding:0;">
          <div class="row">
            <div class="col text-center hts-grey">Date Booked:</div>
          </div>
          <div class="row">
            <div class="col text-center">{{row.bookedDate}}</div>
          </div>
        </div>



        <!--<button class="button button-assertive" ng-click="openPhotoLibrary()">
          Upload image
        </button>-->

      </div>

      <div class="item tabs tabs-secondary tabs-icon-left">
        <a class="tab-item" href="#/app/doctors/{{row.doctor_id}}"> <i class="icon ion-medkit"></i> Doctors Details </a>
        <a class="tab-item" href="#/app/patients/{{row.userid}}"> <i class="icon ion-person"></i> Patient Details</a>
        <a ng-if="myposition==1" class="tab-item" ng-click="deleteRecord(row.app_id)"> <i class="icon ion-trash-a"></i>Delete</a>
      </div>
    </div>
  </ion-content>

</ion-view>
